<html>
	<meta charset="utf-8">
	<head>
		<link rel="stylesheet" type="text/css" href="slider.css">
	</head>
	<h3 class="center"> <em> In silico </em> cancer trial simulation</h3>
	<div id="my_dataviz", class="center"></div>
	<div id="statistics", class="center"></div>
	<br>

	<table class="center">
		<tr>
			<th class="table_head"> R meanlog </th>
			<th class="table_head"> R sdlog </th>
			<th class="table_head"> Immunotherapy Effect </th>
			<th class="table_head"> Chemotherapy Effect </th>
			<th class="table_head"> No. of patients </th>
		</tr>
		<tr>
			<td> <input type="number" id="R_mu_value" value=5 oninput="document.getElementById('R_mu').value=this.value"> </td>
			<td> <input type="number" id="R_sigma_value"  value=3 oninput="document.getElementById('R_sigma').value=this.value"> </td>
			<td> <input type="number" id="imm_effect_value" value=1 oninput="document.getElementById('raise_killing').value=this.value"> </td>
			<td> <input type="number" id="chemo_effect_value" value=1 oninput="document.getElementById('chemo_effect').value=this.value*10"> </td>
			<td> <input type="number" id="n_patients_value" value=100 oninput="document.getElementById('n_patients').value=this.value"> </td>
		</tr>
		<tr>
			<td> <input type="range" class="center" name="R_mu" id=R_mu min="1" max="20" value="5" oninput="document.getElementById('R_mu_value').value=this.value"> </td>
			<td> <input type="range" class="center" name="R_sigma" id=R_sigma min="1" max="20" value="3" oninput="document.getElementById('R_sigma_value').value=this.value"> </td>
			<td> <input type="range" class="center" name="raise_killing" id=raise_killing min="1" max="20" value="1" oninput="document.getElementById('imm_effect_value').value=this.value"> </td>
			<td> <input type="range" class="center" name="chemo_effect" id=chemo_effect min="0" max="10" value="10" oninput="document.getElementById('chemo_effect_value').value=this.value/10"> </td>
			<td> <input type="range" class="center" name="n_patients" id=n_patients min="20" max="1000" value="100" oninput="document.getElementById('n_patients_value').value=this.value"> </td>
		</tr>
		<tr style="height:50px"></tr>
		<tr>
			<td></td>
			<td>
				<button type='button' name='download_raw' id='download_raw' class='center' onclick="downloadBlob(survival_to_csv(death_times_treat, death_times_placebo), 'export_raw.csv', 'text/csv;charset=utf-8;')"> Download Raw Data </button>
			</td>
			<td></td>
			<td>
				<button type='button' name='download_prop' id='download_prop' class='center' onclick="downloadBlob(km_to_csv(d1, d2), 'export_km.csv', 'text/csv;charset=utf-8;')"> Download KM Data </button>
			</td>
		</tr>
	</table>
	<script src="https://d3js.org/d3.v7.min.js"></script>
	<script src="./simulation.js"></script>
	<script src="./plot.js"></script>
	<script src="./download.js"></script>
</html>
